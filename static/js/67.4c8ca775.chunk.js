"use strict";(self.webpackChunkadverts_car_rental=self.webpackChunkadverts_car_rental||[]).push([[67],{8378:function(e,a,l){l.r(a),l.d(a,{default:function(){return R}});var n=l(3433),r=l(5861),t=l(9439),o=l(4687),u=l.n(o),i=l(2791),s=l(4345),c=l(9933),d="CalatogPage_cardList__sZzks",b="CalatogPage_error__0hAUm",p=l(2899),f=l(9321),v=l(8611),h=l(4942),x=l(1413),g="SearchBar_mainStyle__ckpyN",m="SearchBar_label__4uG7W",Z="SearchBar_rangeInputs__Yo1lF",S="SearchBar_mileageFrom__aDPuM",k="SearchBar_mileageTo__PS1xK",j=l(5007),C=l(8298),w=JSON.parse('[{"value":" ","label":"All"},{"value":"Aston Martin","label":"Aston Martin"},{"value":"Audi","label":"Audi"},{"value":"BMW","label":"BMW"},{"value":"Bentley","label":"Bentley"},{"value":"Buick","label":"Buick"},{"value":"Chevrolet","label":"Chevrolet"},{"value":"Chrysler","label":"Chrysler"},{"value":"Ford","label":"Ford"},{"value":"GMC","label":"GMC"},{"value":"Hummer","label":"Hummer"},{"value":"Hyundai","label":"Hyundai"},{"value":"Infiniti","label":"Infiniti"},{"value":"Kia","label":"Kia"},{"value":"Lamborghini","label":"Lamborghini"},{"value":"Land Rover","label":"Land Rover"},{"value":"Lincoln","label":"Lincoln"},{"value":"MINI","label":"MINI"},{"value":"Mercedes-Benz","label":"Mercedes-Benz"},{"value":"Mitsubishi","label":"Mitsubishi"},{"value":"Nissan","label":"Nissan"},{"value":"Pontiac","label":"Pontiac"},{"value":"Skoda","label":"Skoda"},{"value":"Subaru","label":"Subaru"},{"value":"Volvo","label":"Volvo"}]'),y=JSON.parse('[{"value":" ","label":"Any"},{"value":"10","label":"10"},{"value":"20","label":"20"},{"value":"30","label":"30"},{"value":"40","label":"40"},{"value":"50","label":"50"},{"value":"60","label":"60"},{"value":"70","label":"70"},{"value":"80","label":"80"},{"value":"90","label":"90"},{"value":"100","label":"100"},{"value":"110","label":"110"},{"value":"120","label":"120"},{"value":"130","label":"130"},{"value":"140","label":"140"},{"value":"150","label":"150"},{"value":"160","label":"160"},{"value":"170","label":"170"},{"value":"180","label":"180"},{"value":"190","label":"190"},{"value":"200","label":"200"},{"value":"210","label":"210"},{"value":"220","label":"220"},{"value":"230","label":"230"},{"value":"240","label":"240"},{"value":"250","label":"250"},{"value":"260","label":"260"},{"value":"270","label":"270"},{"value":"280","label":"280"},{"value":"290","label":"290"},{"value":"300","label":"300"}]'),_={singleValue:function(e){return(0,x.Z)((0,x.Z)({},e),{},{color:"#121417"})},control:function(e,a){var l=a.isSelected;return(0,x.Z)((0,x.Z)({},e),{},{display:"flex",color:l?"#121417":"#12141733",backgroundColor:"#F7F7FB;",width:"224px",borderRadius:"14px",padding:"8px 18px",lineHeight:"20px",fontFamily:"Manrope, sans-serif",fontSize:"18px",fontWeight:"500",outline:"none",border:"none",boxShadow:"none"})},option:function(e,a){return(0,x.Z)((0,x.Z)({},e),{},{color:a.isSelected?"#121417":"#12141733",fontFamily:"Manrope, sans-serif",fontWeight:"500",fontSize:"16px",cursor:"pointer",lineHeight:"20px",backgroundColor:"none"})},menu:function(e){return(0,x.Z)((0,x.Z)({},e),{},{top:"40px",backgroundColor:"#fff",padding:"14px 8px 14px 18px",borderRadius:"14px",border:"1px solid rgba(18, 20, 23, 0.05)",boxShadow:"px 4px 36px 0px rgba(0, 0, 0, 0.02)"})},menuList:function(e){return(0,x.Z)((0,x.Z)({},e),{},{boxSizing:"content-box","&::-webkit-scrollbar":{width:"8px",height:"110px",position:"relative",right:"-4px",top:0},"&::-webkit-scrollbar-thumb":{borderRadius:"10px",background:"#1214170D"},"&::-webkit-scrollbar-track":{background:"#fff"}})},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(e,a){return(0,x.Z)((0,x.Z)({},e),{},{padding:0,color:"#121417",transition:"all .2s ease",transform:a.selectProps.menuIsOpen?"rotate(180deg)":null})},placeholder:function(e,a){return(0,x.Z)((0,x.Z)({},e),{},{color:"#121417"})}},F={singleValue:function(e){return(0,x.Z)((0,x.Z)({},e),{},{color:"#121417"})},ValueContainer:function(e){return(0,x.Z)((0,x.Z)({},e),{},{overflow:"visible"})},input:function(e,a){return(0,x.Z)((0,x.Z)({},e),{},{"&:after":{content:a.value.length?'""':'"$"',color:"#121417",position:"absolute",right:"15px",top:"6px"}})},control:function(e,a){var l=a.isSelected;return(0,x.Z)((0,x.Z)({},e),{},{display:"flex",color:l?"#121417":"#12141733",backgroundColor:"#F7F7FB;",width:"125px",borderRadius:"14px",padding:"8px 18px",lineHeight:"20px",fontFamily:"Manrope, sans-serif",fontSize:"18px",fontWeight:"500",outline:"none",border:"none",boxShadow:"none"})},option:function(e,a){return(0,x.Z)((0,x.Z)({},e),{},{fontFamily:"Manrope, sans-serif",fontWeight:"500",fontSize:"16px",cursor:"pointer",lineHeight:"20px",backgroundColor:"none",color:a.isSelected?"#121417":"#12141733"})},menu:function(e){return(0,x.Z)((0,x.Z)({},e),{},{top:"40px",backgroundColor:"#fff",padding:"14px 8px 14px 18px",borderRadius:"14px",border:"1px solid rgba(18, 20, 23, 0.05)",boxShadow:"px 4px 36px 0px rgba(0, 0, 0, 0.02)"})},menuList:function(e){return(0,x.Z)((0,x.Z)({},e),{},{boxSizing:"content-box","&::-webkit-scrollbar":{width:"8px",height:"110px",position:"relative",right:"-4px",top:0},"&::-webkit-scrollbar-thumb":{borderRadius:"10px",background:"#1214170D"},"&::-webkit-scrollbar-track":{background:"#fff"}})},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(e,a){return(0,x.Z)((0,x.Z)({},e),{},{color:"#121417",padding:0,transition:"all .2s ease",transform:a.selectProps.menuIsOpen?"rotate(180deg)":null})},placeholder:function(e,a){return(0,x.Z)((0,x.Z)({},e),{},{color:"#121417"})}},M=l(184);function N(e){var a=e.onSearch,l=(0,i.useState)({}),n=(0,t.Z)(l,2),r=n[0],o=n[1],u=(0,i.useState)(""),s=(0,t.Z)(u,2),c=s[0],d=s[1],b=(0,i.useState)(""),p=(0,t.Z)(b,2),f=p[0],v=p[1],N=function(e){if(e.value)o((0,x.Z)((0,x.Z)({},r),{},(0,h.Z)({},e.name,e.value)));else{if("millageFrom"===e.target.name){var a=(0,C._v)(e.target.value);d(a)}else if("millageTo"===e.target.name){var l=(0,C._v)(e.target.value);v(l)}o((0,x.Z)((0,x.Z)({},r),{},(0,h.Z)({},e.target.name,e.target.value)))}};return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("h2",{className:"visually-hidden",children:"Filter to find cars by price millage mark"}),(0,M.jsxs)("form",{className:g,children:[(0,M.jsxs)("div",{className:m,children:[(0,M.jsx)("label",{htmlFor:"make",children:"Car brand"}),(0,M.jsx)(j.ZP,{inputId:"make",options:w,styles:_,onChange:function(e){return N({name:"make",value:e.value})},isSearchable:!0,closeMenuOnSelect:!1,placeholder:"Enter the text"})]}),(0,M.jsxs)("div",{className:m,children:[(0,M.jsx)("label",{htmlFor:"rentalPrice",children:"Price/ 1 hour"}),(0,M.jsx)(j.ZP,{inputId:"rentalPrice",options:y,isSearchable:!0,onChange:function(e){return N({name:"rentalPrice",value:e.value})},closeMenuOnSelect:!1,placeholder:"To",styles:F})]}),(0,M.jsxs)("span",{className:m,children:[(0,M.jsx)("label",{htmlFor:"range",children:"\u0421ar mileage / km "}),(0,M.jsxs)("span",{className:Z,children:[(0,M.jsx)("input",{type:"text",name:"millageFrom",id:"range",onChange:N,value:c}),(0,M.jsx)("span",{className:S,children:"From"}),(0,M.jsx)("input",{type:"text",name:"millageTo",onChange:N,value:f}),(0,M.jsx)("span",{className:k,children:"To"})]})]}),(0,M.jsx)("button",{type:"submit",className:"button-primary btn-search",onClick:function(e){e.preventDefault(),a(r)},children:"Search"})]})]})}var B=l(8208),P=l(2989),I=l(1929);function R(){var e=(0,i.useState)(null),a=(0,t.Z)(e,2),l=a[0],o=a[1],h=(0,i.useState)(1),x=(0,t.Z)(h,2),g=x[0],m=x[1],Z=(0,i.useState)(null),S=(0,t.Z)(Z,2),k=S[0],j=S[1],C=(0,i.useState)(!1),w=(0,t.Z)(C,2),y=w[0],_=w[1],F=(0,i.useState)(null),R=(0,t.Z)(F,2),z=R[0],L=R[1],H=(0,i.useState)(!0),T=(0,t.Z)(H,2),A=T[0],W=T[1],E=(0,i.useState)(!1),O=(0,t.Z)(E,2),V=O[0],D=O[1],G=(0,i.useState)(null),K=(0,t.Z)(G,2),J=K[0],U=K[1],Y=(0,i.useState)(!1),$=(0,t.Z)(Y,2),q=$[0],Q=$[1],X=(0,i.useState)(!1),ee=(0,t.Z)(X,2),ae=ee[0],le=ee[1],ne=(0,i.useState)(!1),re=(0,t.Z)(ne,2),te=re[0],oe=re[1],ue=(0,i.useState)("fullfield"),ie=(0,t.Z)(ue,2),se=ie[0],ce=ie[1],de=(0,i.useRef)();(0,i.useEffect)((function(){ae&&(setTimeout((function(){var e,a,l,n=(null===(e=de.current)||void 0===e?void 0:e.childNodes.length)-8;null===(a=de.current)||void 0===a||null===(l=a.childNodes[n])||void 0===l||l.scrollIntoView({behavior:"smooth",block:"center"})}),600),le(!1))}),[g,ae]),(0,i.useEffect)((function(){te&&(le(!0),oe(!1))}),[te]),(0,i.useEffect)((function(){(0,r.Z)(u().mark((function e(){var a,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce("pending"),Q(!1),j(null),e.prev=3,(0,P.R)("cars")){e.next=9;break}return e.next=7,s.go();case 7:(a=e.sent)&&(0,P.P)("cars",a.data);case 9:return e.next=11,s.Rn();case 11:(l=e.sent)&&o(l),l&&setTimeout((function(){return window.scrollBy({top:80,behavior:"smooth"})}),300),D(!1),l&&ce("fullfield"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),ce("rejected"),j(e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))()}),[]),(0,i.useEffect)((function(){1===g||V||(0,r.Z)(u().mark((function e(){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!1),e.prev=1,e.next=4,s.Rn(g);case 4:(a=e.sent)&&o((function(e){return[].concat((0,n.Z)(e),(0,n.Z)(a))})),a&&oe(!0),a&&a.length<8&&W(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),j(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()}),[V,g]),(0,i.useEffect)((function(){(0,r.Z)(u().mark((function e(){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V){e.next=7;break}return e.next=3,s.yC(J,g,q);case 3:(a=e.sent)&&o(a),a&&oe(!0),a&&a.length>=8&&a.length<30?W(!0):W(!1);case 7:case"end":return e.stop()}}),e)})))()}),[V,g,J,q]);var be=function(e){_(!0),L(e)};return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("h2",{className:"visually-hidden",children:"Car Rantal Catalog"}),(0,M.jsx)(N,{onSearch:function(e){U(e),m(1),W(!0),D(!0)}}),"fullfield"===se?(0,M.jsx)("ul",{className:d,ref:de,children:l&&l.map((function(e){return(0,M.jsx)(c.Z,{advert:e,openModal:be,isChanged:function(){return Q(!0)}},e.id)}))}):(0,M.jsx)(B.Z,{}),l&&0===l.length&&(0,M.jsx)(I.Z,{message:"The specified search result is not found"}),A&&(null===l||void 0===l?void 0:l.length)>7&&(0,M.jsx)(p.Z,{onClick:function(){return m((function(e){return e+1}))}}),y&&(0,M.jsx)(f.Z,{onClose:function(){return _((function(e){return!e}))},active:y,children:(0,M.jsx)(v.Z,{advert:z,closeModal:function(){return _((function(e){return!e}))}})}),"rejected"===se&&k&&(0,M.jsxs)("div",{className:b,children:[" ",k," "]})]})}}}]);
//# sourceMappingURL=67.4c8ca775.chunk.js.map