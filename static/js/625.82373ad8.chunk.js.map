{"version":3,"file":"static/js/625.82373ad8.chunk.js","mappings":"6PACA,EAA2B,gCAA3B,EAAsE,gCAAtE,EAA+G,8B,2DCUhG,SAASA,IACtB,OAAgCC,EAAAA,EAAAA,UAAS,MAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAAwBJ,EAAAA,EAAAA,UAAS,GAAjC,eAAOK,EAAP,KAAaC,EAAb,KACA,GAAyCN,EAAAA,EAAAA,WAAS,GAAlD,eAAOO,EAAP,KAAqBC,EAArB,KACA,GAA4BR,EAAAA,EAAAA,UAAS,MAArC,eAAOS,EAAP,KAAeC,EAAf,KACA,GAAqCV,EAAAA,EAAAA,WAAS,GAA9C,eAAOW,EAAP,KAAmBC,EAAnB,KACA,GAA4BZ,EAAAA,EAAAA,UAAS,aAArC,eAAOa,EAAP,KAAeC,EAAf,MAGAC,EAAAA,EAAAA,YAAU,YACR,iBAAC,2FACCD,EAAU,WADX,SAEmBE,EAAAA,KAFnB,QAEOC,EAFP,SAGQf,EAAYe,GACnBA,GAAOH,EAAU,aAJlB,0CAAD,EAMD,GAAE,KAGHC,EAAAA,EAAAA,YAAU,YACR,iBAAC,2FACCD,EAAU,WADX,SAEqBE,EAAAA,KAFrB,QAESC,EAFT,SAGUf,EAAYe,GACnBA,GAAOA,EAAIC,OAAS,EAAIV,GAAiB,GAASA,GAAiB,GACnES,GAAOH,EAAU,aALpB,0CAAD,EAOD,GAAE,CAACH,KAGJI,EAAAA,EAAAA,YAAU,WACK,IAATV,IACF,iBAAC,oGACwBW,EAAAA,GAAiBX,GADzC,QACOc,EADP,SAEajB,GAAY,SAAAkB,GAAI,wBAAQA,IAAR,OAAiBD,GAAjB,IAC5BA,GAAYA,EAASD,OAAS,EAAIV,GAAiB,GAASA,GAAiB,GAH9E,0CAAD,EAMH,GAAE,CAACH,IAGJ,ICrD4BgB,EDqDtBC,EAAY,SAAAb,GAChBL,GAAa,GACbM,EAAUD,EACX,EAED,OACE,iCACE,eAAIc,UAAWC,EAAf,uBACY,cAAXX,GACC,eAAIU,UAAWC,EAAf,SACGvB,IC/DmBoB,ED+DkBpB,EC9DvCoB,EAAMI,MAAK,SAACC,EAAGC,GAAJ,OAAUC,OAAOF,EAAEG,YAAYC,MAAM,KAAK,IAAMF,OAAOD,EAAEE,YAAYC,MAAM,KAAK,GAAhF,KD8DsCC,KAAI,SAAAC,GAAO,OACvD,SAACC,EAAA,EAAD,CAAYxB,OAAQuB,EAA0BV,UAAWA,EAAWY,UAAW,kBAAMtB,GAAe,SAAAQ,GAAI,OAAKA,CAAL,GAAzB,GAA7CY,EAAQG,GADa,OAM7D,gBAAKZ,UAAWC,EAAhB,UACE,SAACY,EAAA,EAAD,MAGHnC,GAAgC,IAApBA,EAASiB,SAAgB,SAACmB,EAAA,EAAD,CAAmBC,QAAS,sCACjEnC,IACC,SAACoC,EAAA,EAAD,CAAOC,QAAS,kBAAMpC,GAAa,SAAAgB,GAAI,OAAKA,CAAL,GAAvB,EAAmCqB,OAAQtC,EAA3D,UACE,SAACuC,EAAA,EAAD,CAAWjC,OAAQA,EAAQkC,WAAY,kBAAMvC,GAAa,SAAAgB,GAAI,OAAKA,CAAL,GAAvB,MAG1Cb,IAAwB,OAARN,QAAQ,IAARA,OAAA,EAAAA,EAAUiB,QAAS,IAAK,SAAC0B,EAAA,EAAD,CAAUC,QAAS,kBAAMvC,GAAQ,SAAAc,GAAI,OAAIA,EAAO,CAAX,GAAlB,MAGjE,C","sources":["webpack://adverts-car-rental/./src/pages/FavoritesPage/FavoritesPage.module.css?ff2b","pages/FavoritesPage/FavoritesPage.jsx","utils/sorting.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"cardList\":\"FavoritesPage_cardList__FmDtd\",\"favTitle\":\"FavoritesPage_favTitle__L9t78\",\"margin\":\"FavoritesPage_margin__AM4MF\"};","import { useState, useEffect } from 'react';\nimport AdvertCard from 'components/AdvertCard/AdvertCard';\nimport * as API from '../../services/carsApi';\nimport css from './FavoritesPage.module.css';\nimport Modal from 'components/Modal/Modal';\nimport ModalCard from 'components/Modal/ModalCard/ModalCard';\nimport LoadMore from 'components/LoadMore/LoadMore';\nimport Skeleton from 'components/Skeleton/Skeleton.jsx';\nimport { sortingByPrice } from 'utils/sorting';\nimport NotFoundComponent from 'components/NotFoundComponent/NotFoundComponent';\n\nexport default function FavoritesPage() {\n  const [favCards, setFavCards] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [page, setPage] = useState(1);\n  const [showLoadMore, setShowLoadrMore] = useState(true);\n  const [advert, setAdvert] = useState(null);\n  const [likeChangd, setLikeChanged] = useState(true);\n  const [status, setStatus] = useState('fullfield');\n\n  //initialize\n  useEffect(() => {\n    (async () => {\n      setStatus('pending');\n      const res = await API.getFavotites();\n      res && setFavCards(res);\n      res && setStatus('fullfield');\n    })();\n  }, []);\n\n  //refresh\n  useEffect(() => {\n    (async () => {\n      setStatus('pending');\n        const res = await API.getFavotites();\n        res && setFavCards(res);\n        res && res.length < 8 ? setShowLoadrMore(false) : setShowLoadrMore(true) ; \n        res && setStatus('fullfield');\n    })();\n  }, [likeChangd]);\n\n  // pagination\n  useEffect(() => {\n    if (page !== 1) {\n      (async () => {\n        const response = await API.getFavotites(page);\n        response && setFavCards(prev => [...prev, ...response]);\n        response && response.length < 8 ? setShowLoadrMore(false) : setShowLoadrMore(true);\n      })();\n    }\n  }, [page]);\n\n  // modal opener\n  const openModal = advert => {\n    setShowModal(true);\n    setAdvert(advert);\n  };\n\n  return (\n    <>\n      <h2 className={css.favTitle}>Favorites</h2>\n      {status === 'fullfield' ? (\n        <ul className={css.cardList}>\n          {favCards &&  (        sortingByPrice(favCards).map(favCard => (\n              <AdvertCard advert={favCard} key={favCard.id} openModal={openModal} isChanged={() => setLikeChanged(prev => !prev)} />\n            )))}\n \n        </ul>\n      ) : (\n        <div className={css.margin}>\n          <Skeleton />\n        </div>\n      )}\n      {favCards && favCards.length === 0 && <NotFoundComponent message={'Please add some cars to favorites'}/>}\n      {showModal && (\n        <Modal onClose={() => setShowModal(prev => !prev)} active={showModal}>\n          <ModalCard advert={advert} closeModal={() => setShowModal(prev => !prev)} />\n        </Modal>\n      )}\n      {showLoadMore && favCards?.length > 7 && <LoadMore onClick={() => setPage(prev => prev + 1)} />}\n    </>\n  );\n}\n","export const sortingByPrice = array => {\n  return array.sort((a, b) => Number(a.rentalPrice.split('$')[1]) - Number(b.rentalPrice.split('$')[1]));\n};\n"],"names":["FavoritesPage","useState","favCards","setFavCards","showModal","setShowModal","page","setPage","showLoadMore","setShowLoadrMore","advert","setAdvert","likeChangd","setLikeChanged","status","setStatus","useEffect","API","res","length","response","prev","array","openModal","className","css","sort","a","b","Number","rentalPrice","split","map","favCard","AdvertCard","isChanged","id","Skeleton","NotFoundComponent","message","Modal","onClose","active","ModalCard","closeModal","LoadMore","onClick"],"sourceRoot":""}