"use strict";(self.webpackChunkadverts_car_rental=self.webpackChunkadverts_car_rental||[]).push([[109],{747:function(e,n,r){r.d(n,{Z:function(){return C}});var t="AdvertCard_card__x0vGq",a="AdvertCard_cardTitle__8Trld",s="AdvertCard_blued__eMZVe",c="AdvertCard_imageContainer__Wbr3X",i="AdvertCard_icon__Ir6YW",l="AdvertCard_image__grMGg",u="AdvertCard_descrList__apAl9",o=r(298),d=r(861),f=r(439),p=r(687),h=r.n(p),v=r(791);var x=r.p+"static/media/HeartHollow.e6aef420dab2877eaa3255f37619c5e3.svg";var m=r.p+"static/media/HeartFull.b825442535eb48fa4c59b66934982764.svg",j=r(346),_=r(184);function g(e){var n=e.id,r=e.className,t=e.favs,a=e.isChanged,s=(0,v.useState)(t),c=(0,f.Z)(s,2),i=c[0],l=c[1],u=(0,v.useState)("resolved"),o=(0,f.Z)(u,2),p=o[0],g=o[1];function C(){return(C=(0,d.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g("pending"),a&&a((function(e){return!e})),i){e.next=10;break}return e.next=5,j.I_(n,!0);case 5:e.sent&&l(!0),g("resolved"),e.next=15;break;case 10:return e.next=12,j.I_(n,!1);case 12:e.sent&&l(!1),g("resolved");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,_.jsx)("div",{className:r,onClick:function(){return C.apply(this,arguments)},disabled:"pending"===p,children:i?(0,_.jsx)("img",{src:m,alt:"in favorites"}):(0,_.jsx)("img",{src:x,alt:"not in favorites"})})}function C(e){var n=e.advert,r=e.openModal,d=e.isChanged,f=n.img,p=n.id,h=n.year,v=n.model,x=n.make,m=n.rentalPrice,j=n.rentalCompany,C=n.type,Z=n.address,b=n.accessories,y=n.favs;return(0,_.jsxs)("li",{className:t,title:"".concat(b.join("\n")),children:[(0,_.jsxs)("div",{className:c,children:[(0,_.jsx)("img",{src:f,alt:"CarImage",className:l,loading:"lazy"}),(0,_.jsx)(g,{className:i,favs:y||!1,id:p,isChanged:d})]}),(0,_.jsxs)("div",{children:[(0,_.jsxs)("h2",{className:a,children:[(0,_.jsxs)("span",{children:["".concat(x," "),(0,_.jsx)("span",{className:s,children:"".concat(v)}),", ".concat(h)]}),(0,_.jsx)("span",{children:m})]}),(0,_.jsxs)("ul",{className:u,children:[(0,_.jsx)("li",{children:(0,o.hw)(Z)}),(0,_.jsx)("li",{children:(0,o.rZ)(Z)}),(0,_.jsx)("li",{children:j}),(0,_.jsx)("li",{children:"Premium"}),(0,_.jsx)("li",{children:C}),(0,_.jsx)("li",{children:v}),(0,_.jsx)("li",{children:p}),(0,_.jsx)("li",{children:b[2]})]})]}),(0,_.jsx)("button",{className:"button-primary",onClick:function(){return r(p)},children:"Learn more"})]})}},899:function(e,n,r){r.d(n,{Z:function(){return a}});var t=r(184);function a(e){var n=e.onClick;return(0,t.jsx)("div",{style:s,children:(0,t.jsx)("button",{className:"button-secondary",onClick:n,children:" Load more"})})}var s={width:"100%",display:"flex",justifyContent:"center",paddingBottom:"150px"}},321:function(e,n,r){r.d(n,{Z:function(){return u}});var t=r(791),a=r(164),s=r(207),c="Modal_Overlay__yoxbg",i="Modal_Modal__I1UYJ",l=r(184);function u(e){var n=e.onClose,r=e.children,u=e.active,o=document.querySelector("#modal-root"),d=(0,s.Z)(u,300);(0,t.useEffect)((function(){return window.addEventListener("keydown",f),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",f),document.body.style.overflow="unset"}}));var f=function(e){"Escape"===e.code&&n()},p={transform:"scale( ".concat(d?"1":"0",")"),opacity:d?1:0};return(0,a.createPortal)((0,l.jsx)("div",{className:c,onClick:function(e){e.currentTarget===e.target&&n()},children:(0,l.jsx)("div",{style:p,className:i,children:r})}),o)}},458:function(e,n,r){r.d(n,{Z:function(){return C}});var t=r(433),a=r(861),s=r(439),c=r(687),i=r.n(c),l="ModalCard_modalBody__Rqr05",u="ModalCard_imageContainer__90Jmi",o="ModalCard_image__8zwlp",d="ModalCard_modalTitle__U--es",f="ModalCard_blued__GD-N9",p="ModalCard_feautersList__4JYvT",h="ModalCard_desription__TVRaz",v="ModalCard_subTitle__V2POC",x="ModalCard_rentalDetails__8WruD",m=r(791),j=r(346),_=r(298),g=r(184);function C(e){var n=e.id,r=(0,m.useState)(null),c=(0,s.Z)(r,2),C=c[0],Z=c[1],b=(0,m.useState)("pending"),y=(0,s.Z)(b,2),w=y[0],N=y[1];if((0,m.useEffect)((function(){(0,a.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N("pending"),e.prev=1,e.next=4,j.FJ(n);case 4:(r=e.sent)&&Z(r),r&&N("resolved"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),N("rejected");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()}),[n]),"resolved"===w){var k=C.img,M=C.make,S=C.model,L=C.functionalities,A=C.mileage,P=C.year,R=C.rentalPrice,T=C.rentalConditions,E=C.address,I=C.description,z=C.fuelConsumption,F=C.engineSize,J=C.rentalCompany,Y=C.type,q=C.accessories;return(0,g.jsxs)("article",{className:l,tittle:J,children:[(0,g.jsx)("div",{className:u,children:(0,g.jsx)("img",{src:k,alt:"CarImage",className:o,loading:"lazy"})}),(0,g.jsx)("h2",{className:d,children:(0,g.jsxs)("span",{children:["".concat(M," "),(0,g.jsx)("span",{className:f,children:"".concat(S)}),", ".concat(P)]})}),(0,g.jsxs)("ul",{className:p,children:[(0,g.jsx)("li",{children:(0,_.hw)(E)}),(0,g.jsx)("li",{children:(0,_.rZ)(E)}),(0,g.jsxs)("li",{children:["Id: ",n]}),(0,g.jsxs)("li",{children:["Year: ",P]}),(0,g.jsxs)("li",{children:["Type: ",Y]}),(0,g.jsxs)("li",{children:["Fuel Consumption: ",z]}),(0,g.jsxs)("li",{children:["Engine Size: ",F]})]}),(0,g.jsx)("p",{className:h,children:I}),(0,g.jsx)("h3",{className:v,children:"Accessories and functionalities: "}),(0,g.jsx)("ul",{className:p,children:[].concat((0,t.Z)(L),(0,t.Z)(q)).map((function(e,n){return(0,g.jsx)("li",{children:e},n)}))}),(0,g.jsx)("h3",{className:v,children:"Rental Conditions:"}),(0,g.jsxs)("ul",{className:x,children:[(0,_.p8)(T).map((function(e,n){return e.includes(":")?(0,g.jsxs)("li",{children:[" ",e.split(":")[0],": ",(0,g.jsx)("span",{className:f,children:e.split(":")[1]})," "]},n):(0,g.jsx)("li",{children:e},n)})),(0,g.jsxs)("li",{children:[" Mileage: ",(0,g.jsx)("span",{className:f,children:(0,_.P1)(A)})," "]}),(0,g.jsxs)("li",{children:[" Price: ",(0,g.jsx)("span",{className:f,children:R})," "]})]}),(0,g.jsx)("button",{type:"button",className:"button-primary btn-rent",children:"Rental car"})]})}}},109:function(e,n,r){r.r(n),r.d(n,{default:function(){return x}});var t=r(433),a=r(861),s=r(439),c=r(687),i=r.n(c),l=r(791),u=r(346),o=r(747),d="CalatogPage_cardList__sZzks",f=r(899),p=r(321),h=r(458),v=r(184);function x(){var e=(0,l.useState)(null),n=(0,s.Z)(e,2),r=n[0],c=n[1],x=(0,l.useState)(1),m=(0,s.Z)(x,2),j=m[0],_=m[1],g=(0,l.useState)(null),C=(0,s.Z)(g,2),Z=C[0],b=C[1],y=(0,l.useState)(!1),w=(0,s.Z)(y,2),N=w[0],k=w[1],M=(0,l.useState)(null),S=(0,s.Z)(M,2),L=S[0],A=S[1];(0,l.useEffect)((function(){(0,a.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Rn();case 3:(n=e.sent)&&c(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),b(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),(0,l.useEffect)((function(){1!==j&&(0,a.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Rn(j);case 3:(n=e.sent)&&c((function(e){return[].concat((0,t.Z)(e),(0,t.Z)(n))})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[j]);var P=function(e){k(!0),A(e)};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h1",{className:"visually-hidden",children:"Car Rantal Catalog"}),(0,v.jsx)("ul",{className:d,children:(0,v.jsx)(l.Suspense,{fallback:(0,v.jsx)("div",{children:"Loading......"}),children:r&&r.map((function(e){return(0,v.jsx)(o.Z,{advert:e,openModal:P},e.id)}))})}),j<4&&(0,v.jsx)(f.Z,{onClick:function(){_((function(e){return e+1}))}}),N&&(0,v.jsx)(p.Z,{onClose:function(){return k((function(e){return!e}))},active:N,children:(0,v.jsx)(h.Z,{id:L})}),Z&&(0,v.jsx)("div",{children:Z})]})}},346:function(e,n,r){r.d(n,{FJ:function(){return l},I_:function(){return u},Rn:function(){return i},Tg:function(){return o}});var t=r(861),a=r(687),s=r.n(a),c=r(243);c.Z.defaults.baseURL="https://64fcade6605a026163aeba10.mockapi.io/adverts";var i=function(){var e=(0,t.Z)(s().mark((function e(){var n,r,t=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:1,e.next=3,c.Z.get("?page=".concat(n,"&limit=8"));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("/".concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,t.Z)(s().mark((function e(n,r){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.put("/".concat(n),{favs:r});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),o=function(){var e=(0,t.Z)(s().mark((function e(){var n,r,t=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:1,e.next=3,c.Z.get("?favs=true&page=".concat(n,"&limit=8"));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},298:function(e,n,r){r.d(n,{P1:function(){return s},hw:function(){return t},p8:function(){return c},rZ:function(){return a}});var t=function(e){return e.split(", ").slice(1,-1).toString()},a=function(e){return e.split(", ").slice(2).toString()},s=function(e){return Number(e).toLocaleString()},c=function(e){return e.split("\n")}}}]);
//# sourceMappingURL=109.df021c08.chunk.js.map